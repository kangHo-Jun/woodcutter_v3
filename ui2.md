# 대장간 V3 - UI/UX 설계 문서 v2

## 개요

- **프로젝트**: 대장간 V3 (목재 재단 최적화 앱)
- **타겟**: B2B - 목공소/인테리어 현장 전문가
- **플랫폼**: 모바일 웹 (반응형)
- **버전**: v2

---

## 전체 흐름

```
Step 1: 원판 설정 → Step 2: 부품 입력 → Step 3: 결과
```

---

## Step 1: 원판 설정

### 화면 구성

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│                                 │
│         원판 크기               │
│   재단할 원판 사이즈를 입력하세요  │
│                                 │
│  ┌──────┐     ┌──────┐         │
│  │ 2440 │  ×  │ 1220 │         │
│  │  mm  │     │  mm  │         │
│  └──────┘     └──────┘         │
│    가로         세로            │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 🌾 결고려                │   │
│  │    나무결 방향 맞춰 배치  │ □ │
│  └─────────────────────────┘   │
│                                 │
│      [원판 프리뷰 이미지]        │
│                                 │
│       [다음: 부품 입력 →]       │
│                                 │
└─────────────────────────────────┘
```

### 입력 요소

| 요소 | 기본값 | 설명 |
|------|--------|------|
| 가로 | 2440mm | 터치 시 키패드 |
| 세로 | 1220mm | 터치 시 키패드 |
| 결고려 | OFF | 체크박스 토글 |

### 제거된 항목

- ~~톱날 사이즈~~
- ~~나무 두께~~

### 결고려 프리뷰

| 상태 | 이미지 |
|------|--------|
| OFF (기본) | 무늬 없음, "자유 회전" |
| ON | 가로 나무결 표시, "결 고정" |

---

## Step 2: 부품 입력

### 기본 화면 (키패드 닫힘)

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│                                 │
│  부품 목록 (7개)        전체삭제 │
│  ┌─────────────────────────┐   │
│  │ 800×400      ×4    ← 삭제│   │
│  │ 600×300      ×2    ← 삭제│   │
│  │ 1000×500     ×1    ← 삭제│   │
│  │                         │   │
│  │      (넓은 공간)        │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│          [최적화 실행]          │
├─────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌────┐ ┌──┐     │
│  │800 │×│400 │×│ 4  │ │≡≡│[+추가]│
│  │ mm │ │ mm │ │ 개 │ │  │     │
│  └────┘ └────┘ └────┘ └──┘     │
│   가로    세로   개수  결고려    │
└─────────────────────────────────┘
```

### 공간 배분

| 영역 | 비율 |
|------|------|
| 헤더 | 8% |
| 부품 리스트 | 55% |
| 최적화 버튼 | 7% |
| 하단 입력바 | 12% |
| 키패드 (필요시) | 40% |

### 하단 입력바

```
┌──────────────────────────────────────────────────┐
│  ┌──────┐   ┌──────┐   ┌──────┐   ┌────┐        │
│  │      │   │      │   │      │   │    │        │
│  │ 800  │ × │ 400  │ × │  4   │   │ ≡≡ │ [+추가]│
│  │  mm  │   │  mm  │   │  개  │   │    │        │
│  └──────┘   └──────┘   └──────┘   └────┘        │
│    터치       터치        터치      터치         │
│   키패드     키패드      키패드    토글          │
└──────────────────────────────────────────────────┘
```

| 요소 | 입력 방식 |
|------|----------|
| 가로 | 터치 → 키패드 |
| 세로 | 터치 → 키패드 |
| 개수 | 터치 → 키패드 |
| 결고려 | 이미지 터치 토글 |

### 키패드 열림 상태

```
┌─────────────────────────────────┐
│  부품 목록 (7개)                │
│  ┌─────────────────────────┐   │
│  │ 800×400      ×4       × │   │
│  │ 600×300      ×2       × │   │
│  └─────────────────────────┘   │
├─────────────────────────────────┤
│                                 │
│            가로                 │
│  ┌─────────────────────────┐   │
│  │         1200            │   │
│  │          mm             │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│  ┌─────┬─────┬─────┐           │
│  │  1  │  2  │  3  │           │
│  ├─────┼─────┼─────┤           │
│  │  4  │  5  │  6  │           │
│  ├─────┼─────┼─────┤           │
│  │  7  │  8  │  9  │           │
│  ├─────┼─────┼─────┤           │
│  │  ←  │  0  │  ✓  │           │
│  └─────┴─────┴─────┘           │
└─────────────────────────────────┘
```

### 키패드 스펙

| 항목 | 내용 |
|------|------|
| 그리드 | 3×4 (12키) |
| 키 | 1~9, 0, ←(백스페이스), ✓(확인) |
| 제거 | ~~+50, +100, 00, C, +/-~~ |
| 높이 | 화면의 약 40% |

### 입력 자동 흐름

```
가로 터치 → 입력 → ✓ → 세로로 자동 전환 → 입력 → ✓ → 개수로 자동 전환 → 입력 → ✓ → 키패드 닫힘
```

| 단계 | 동작 | 결과 |
|------|------|------|
| 1 | 가로 터치 | 키패드 열림, "가로" 표시 |
| 2 | 숫자 입력 후 ✓ | 세로로 자동 전환 |
| 3 | 숫자 입력 후 ✓ | 개수로 자동 전환 |
| 4 | 숫자 입력 후 ✓ | 키패드 닫힘 |
| 5 | 결고려 터치 | ON/OFF 토글 (선택) |
| 6 | [+추가] | 리스트에 추가 |

### 결고려 토글 (부품별)

| 상태 | 이미지 | 설명 |
|------|--------|------|
| OFF (기본) | ?? 회색/무늬 없음 | 자유 회전 가능 |
| ON | ≡≡ 나무결 가로 | 결방향 고정 |

---

## Step 3: 결과

### 화면 구성

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│  💰 12,000원 │ ✂️ 12회 │ 📦 1장  │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │      [배치도 캔버스]     │   │
│  │       나무결 + 부품      │   │
│  │                         │   │
│  │         ◀ 1/1 ▶        │   │
│  │        효율 68.5%       │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│ [범례]                          │
│ ① 100×100 ×10  ② 200×150 ×5   │
│ ③ 400×300 ×2                   │
├─────────────────────────────────┤
│                                 │
│  [← 다시입력] [🏠 새작업] [📄 PDF보기] │
│                                 │
│            [📤 공유하기]         │
│                                 │
└─────────────────────────────────┘
```

### 요약바

| 항목 | 표시 |
|------|------|
| 예상 비용 | 💰 12,000원 |
| 절단 횟수 | ✂️ 12회 |
| 사용 원판 | 📦 1장 |

### 버튼 동작

| 버튼 | 동작 |
|------|------|
| ← 다시입력 | Step 2로 이동 (입력 데이터 유지) |
| 🏠 새작업 | Step 1로 이동 (데이터 초기화) |
| 📄 PDF보기 | PDF 미리보기 화면 열림 |
| 📤 공유하기 | 텍스트 내용 + PDF 첨부 함께 공유 |

---

## 배치도 숫자 표시 (하이브리드 방식)

### 규칙

| 조각 크기 | 표시 방식 |
|----------|----------|
| ≥ 200×200 | 사이즈 직접 표시 (예: 800×400) |
| < 200×200 | 번호로 표시 (예: ①) + 범례 |

### 예시

```
┌─────────────────────────────────┐
│ ┌───┬───┬───┬───┬───┐         │
│ │ ① │ ① │ ① │ ① │ ① │         │  ← 작아서 번호만
│ └───┴───┴───┴───┴───┘         │
│                                 │
│ ┌───────────┐ ┌───────────┐   │
│ │           │ │           │   │
│ │  400×300  │ │  400×300  │   │  ← 크니까 직접 표시
│ │           │ │           │   │
│ └───────────┘ └───────────┘   │
│                                 │
│ ┌─────────────────────────────┐│
│ │          800×400            ││  ← 크니까 직접 표시
│ └─────────────────────────────┘│
└─────────────────────────────────┘

[범례 - 작은 조각만]
① 100×100  ×10개
```

### 같은 사이즈 처리

| 상황 | 표시 |
|------|------|
| 같은 사이즈 여러 개 (작음) | 같은 번호 (①①①①①) |
| 같은 사이즈 여러 개 (큼) | 모두 사이즈 직접 표시 |
| 다른 사이즈 | 각각 다른 번호 또는 사이즈 |

---

## 줌인/줌아웃

### 제스처

| 동작 | 결과 |
|------|------|
| 핀치 아웃 (두 손가락 벌림) | 확대 |
| 핀치 인 (두 손가락 모음) | 축소 |
| 더블 탭 | 100% ↔ 맞춤 토글 |
| 드래그 | 이동 (확대 시) |

### 줌 상태에 따른 표시

```
축소 상태 (전체 보기):
┌───┬───┬───┬───┬───┐
│ ① │ ① │ ① │ ① │ ① │  ← 번호만
└───┴───┴───┴───┴───┘

확대 상태 (줌인):
┌─────────────────┐
│                 │
│    100×100      │  ← 사이즈 보임
│                 │
└─────────────────┘
```

### 줌 컨트롤 UI

```
┌─────────────────────────────────┐
│                                 │
│        [배치도]                 │
│                                 │
│                      ┌───┐     │
│                      │ + │     │  ← 줌 버튼
│                      ├───┤     │
│                      │ - │     │
│                      └───┘     │
│                                 │
│  ◀ 1/3 ▶          [100%]       │  ← 줌 레벨 표시
└─────────────────────────────────┘
```

### 줌 레벨

| 레벨 | 설명 |
|------|------|
| 맞춤 | 전체 배치도가 화면에 맞춤 |
| 100% | 실제 크기 (1:1) |
| 200% | 2배 확대 |
| 자유 | 핀치로 자유롭게 조절 |

---

## PDF 보기

### 화면 구성

```
┌─────────────────────────────────┐
│  PDF 미리보기            [ × ]  │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │    [PDF 렌더링 영역]    │   │
│  │                         │   │
│  │    • 배치도             │   │
│  │    • 부품 목록          │   │
│  │    • 요약 정보          │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│         ◀  1 / 2  ▶           │
│                                 │
├─────────────────────────────────┤
│     [📥 저장]    [📤 공유]      │
└─────────────────────────────────┘
```

### PDF 줌 기능

- 핀치 줌인/줌아웃 지원
- 더블 탭으로 확대/축소 토글
- 확대 시 드래그로 이동

---

## 공유하기

### 공유 내용 형식

```
[대장간 V3 재단 결과]

📐 원판: 2440 × 1220 mm
📦 사용 원판: 1장
✂️ 총 절단: 12회
📊 효율: 68.5%
💰 예상 비용: 12,000원

─────────────────
부품 목록:
• 800×400 ×4개
• 600×300 ×2개
• 1000×500 ×1개

📎 첨부: 재단도.pdf
```

### 공유 항목

| 항목 | 포함 |
|------|------|
| 텍스트 요약 | ✅ |
| 부품 목록 | ✅ |
| PDF 첨부 | ✅ |

---

## 네비게이션

### 이동 방법

| 위치 | 동작 | 결과 |
|------|------|------|
| 어디서든 | 로고 터치 | Step 1로 이동 |
| 어디서든 | "설정" 터치 | Step 1로 이동 |
| 어디서든 | "입력" 터치 | Step 2로 이동 |
| 어디서든 | "결과" 터치 | Step 3로 이동 (결과 있을 때만) |
| Step 3 | ← 다시입력 | Step 2로 (데이터 유지) |
| Step 3 | 🏠 새작업 | Step 1로 (데이터 초기화) |

### 데이터 유지 규칙

| 이동 | 원판 설정 | 부품 리스트 | 결과 |
|------|----------|------------|------|
| Step 2 → Step 1 | 유지 | 유지 | 삭제 |
| Step 3 → Step 2 | 유지 | 유지 | 유지 |
| Step 3 → Step 1 (새작업) | 초기화 | 초기화 | 삭제 |
| 로고 터치 | 유지 | 유지 | 유지 |

---

## 추가 UX 개선

### 빈 상태 안내

```
┌─────────────────────────────┐
│                             │
│      📦                     │
│   아직 부품이 없습니다       │
│   아래에서 추가해주세요      │
│         ↓ ↓ ↓              │
└─────────────────────────────┘
```

### 입력 유효성 체크

```
원판보다 큰 값 입력 시:
┌─────────────────────────────┐
│         2500                │  ← 빨간색
│     ⚠️ 원판(2440)보다 큼    │
└─────────────────────────────┘
```

### 스와이프 삭제

```
← 스와이프 → [삭제] 버튼 나타남
```

### 되돌리기 (Undo)

```
삭제 시 토스트: "삭제됨 [되돌리기]" (3초 후 사라짐)
```

---

## v1 → v2 변경 사항

| 항목 | v1 | v2 |
|------|----|----|
| 개수 입력 | +/- 버튼 | 키패드 |
| 입력 자동 전환 | 가로 → 세로 | 가로 → 세로 → 개수 |
| 작은 조각 표시 | 생략됨 | 번호 + 범례 |
| 큰 조각 표시 | 사이즈 직접 | 사이즈 직접 (유지) |
| 줌 기능 | 없음 | 핀치 줌인/줌아웃 |
| 줌인 시 작은 조각 | - | 사이즈 표시됨 |

---

## 최종 체크리스트

| 항목 | 상태 |
|------|------|
| 가로→세로→개수 자동 전환 | ✅ |
| 키패드 축소 (3×4) | ✅ |
| +/- 버튼 제거 | ✅ |
| 입력값 크게 표시 | ✅ |
| 부품 리스트 메인 | ✅ |
| 하단 고정 입력바 | ✅ |
| 결고려 이미지 토글 | ✅ |
| 로고/스텝 터치 네비게이션 | ✅ |
| PDF 보기 | ✅ |
| 공유하기 (텍스트 + PDF) | ✅ |
| 새작업 버튼 | ✅ |
| 배치도 하이브리드 표시 | ✅ |
| 줌인/줌아웃 | ✅ |
| 범례 표시 | ✅ |

---

## 변경 이력

| 버전 | 날짜 | 내용 |
|------|------|------|
| v1 | - | 초안 작성 |
| v2 | - | 개수 입력 키패드로 변경 |
| v2 | - | 배치도 하이브리드 표시 (아이디어 D) |
| v2 | - | 줌인/줌아웃 기능 추가 |
| v2 | - | 범례 추가 |
