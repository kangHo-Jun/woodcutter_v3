# 대장간 V3 - UI/UX 설계 문서

## 개요

- **프로젝트**: 대장간 V3 (목재 재단 최적화 앱)
- **타겟**: B2B - 목공소/인테리어 현장 전문가
- **플랫폼**: 모바일 웹 (반응형)
- **작성일**: 2024년

---

## 전체 흐름

```
Step 1: 원판 설정 → Step 2: 부품 입력 → Step 3: 결과
```

---

## Step 1: 원판 설정

### 화면 구성

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│                                 │
│         원판 크기               │
│   재단할 원판 사이즈를 입력하세요  │
│                                 │
│  ┌──────┐     ┌──────┐         │
│  │ 2440 │  ×  │ 1220 │         │
│  │  mm  │     │  mm  │         │
│  └──────┘     └──────┘         │
│    가로         세로            │
│                                 │
│  ┌─────────────────────────┐   │
│  │ 🌾 결고려                │   │
│  │    나무결 방향 맞춰 배치  │ □ │
│  └─────────────────────────┘   │
│                                 │
│      [원판 프리뷰 이미지]        │
│                                 │
│       [다음: 부품 입력 →]       │
│                                 │
└─────────────────────────────────┘
```

### 입력 요소

| 요소 | 기본값 | 설명 |
|------|--------|------|
| 가로 | 2440mm | 터치 시 키패드 |
| 세로 | 1220mm | 터치 시 키패드 |
| 결고려 | OFF | 체크박스 토글 |

### 제거된 항목

- ~~톱날 사이즈~~ (고정값 또는 백엔드 처리)
- ~~나무 두께~~ (불필요)

### 결고려 프리뷰

| 상태 | 이미지 |
|------|--------|
| OFF (기본) | 무늬 없음, "자유 회전" |
| ON | 가로 나무결 표시, "결 고정" |

---

## Step 2: 부품 입력

### 기본 화면 (키패드 닫힘)

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│                                 │
│  부품 목록 (7개)        전체삭제 │
│  ┌─────────────────────────┐   │
│  │ 800×400      ×4    ← 삭제│   │
│  │ 600×300      ×2    ← 삭제│   │
│  │ 1000×500     ×1    ← 삭제│   │
│  │                         │   │
│  │      (넓은 공간)        │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│          [최적화 실행]          │
├─────────────────────────────────┤
│  ┌────┐ ┌────┐ ┌──┐ ┌──┐       │
│  │800 │×│400 │×│+4│ │≡≡│[+추가]│
│  └────┘ └────┘ │- │ │≡≡│       │
│   가로    세로  └──┘ └──┘       │
│                 수량  결고려     │
└─────────────────────────────────┘
```

### 공간 배분

| 영역 | 비율 |
|------|------|
| 헤더 | 8% |
| 부품 리스트 | 55% |
| 최적화 버튼 | 7% |
| 하단 입력바 | 12% |
| 키패드 (필요시) | 40% |

### 하단 입력바 상세

```
┌──────────────────────────────────────────────────┐
│  ┌──────┐   ┌──────┐   ┌────┐   ┌────┐          │
│  │      │   │      │   │ +  │   │    │          │
│  │ 800  │ × │ 400  │ × │ 4  │   │ ≡≡ │  [+추가] │
│  │  mm  │   │  mm  │   │ -  │   │ ≡≡ │          │
│  └──────┘   └──────┘   └────┘   └────┘          │
│   터치→      터치→      상하     터치→           │
│   키패드     키패드     버튼     토글            │
└──────────────────────────────────────────────────┘
```

| 요소 | 입력 방식 |
|------|----------|
| 가로 | 터치 → 키패드 |
| 세로 | 터치 → 키패드 |
| 수량 | +/- 버튼 (상하 배치) |
| 결고려 | 이미지 터치 토글 |

### 키패드 열림 상태

```
┌─────────────────────────────────┐
│  부품 목록 (7개)                │
│  ┌─────────────────────────┐   │
│  │ 800×400      ×4       × │   │
│  │ 600×300      ×2       × │   │
│  └─────────────────────────┘   │
├─────────────────────────────────┤
│                                 │
│            가로                 │
│  ┌─────────────────────────┐   │
│  │         1200            │   │
│  │          mm             │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│  ┌─────┬─────┬─────┐           │
│  │  1  │  2  │  3  │           │
│  ├─────┼─────┼─────┤           │
│  │  4  │  5  │  6  │           │
│  ├─────┼─────┼─────┤           │
│  │  7  │  8  │  9  │           │
│  ├─────┼─────┼─────┤           │
│  │  ←  │  0  │  ✓  │           │
│  └─────┴─────┴─────┘           │
└─────────────────────────────────┘
```

### 키패드 스펙

| 항목 | 내용 |
|------|------|
| 그리드 | 3×4 (12키) |
| 키 | 1~9, 0, ←(백스페이스), ✓(확인) |
| 제거 | +50, +100, 00, C |
| 높이 | 화면의 약 40% |

### 입력 자동 흐름

```
가로 터치 → 입력 → ✓ → 자동으로 세로 전환 → 입력 → ✓ → 키패드 닫힘
```

| 단계 | 동작 | 결과 |
|------|------|------|
| 1 | 가로 터치 | 키패드 열림 |
| 2 | 숫자 입력 후 ✓ | 세로로 자동 전환 |
| 3 | 숫자 입력 후 ✓ | 키패드 닫힘 |
| 4 | 수량 +/- | 버튼으로 조절 |
| 5 | 결고려 터치 | ON/OFF 토글 |
| 6 | [+추가] | 리스트에 추가 |

### 결고려 토글 (부품별)

| 상태 | 이미지 | 설명 |
|------|--------|------|
| OFF (기본) | ?? 회색/무늬 없음 | 자유 회전 가능 |
| ON | ≡≡ 나무결 가로 | 결방향 고정 |

---

## Step 3: 결과

### 화면 구성

```
┌─────────────────────────────────┐
│  [대장간 V3]    설정 · 입력 · 결과  │
├─────────────────────────────────┤
│  💰 12,000원 │ ✂️ 12회 │ 📦 1장  │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │      [배치도 캔버스]     │   │
│  │       나무결 + 부품      │   │
│  │                         │   │
│  │         ◀ 1/1 ▶        │   │
│  │        효율 68.5%       │   │
│  └─────────────────────────┘   │
│                                 │
├─────────────────────────────────┤
│                                 │
│  [← 다시입력] [🏠 새작업] [📄 PDF보기] │
│                                 │
│            [📤 공유하기]         │
│                                 │
└─────────────────────────────────┘
```

### 요약바

| 항목 | 표시 |
|------|------|
| 예상 비용 | 💰 12,000원 |
| 절단 횟수 | ✂️ 12회 |
| 사용 원판 | 📦 1장 |

### 배치도 스타일

- 밝은 미니멀 + 나무결 패턴
- 베이스 색상: #F5E6D3 (밝은 우드)
- 테두리: #333333
- 나이테 + 가로 나무결 표현

### 버튼 동작

| 버튼 | 동작 |
|------|------|
| ← 다시입력 | Step 2로 이동 (입력 데이터 유지) |
| 🏠 새작업 | Step 1로 이동 (데이터 초기화) |
| 📄 PDF보기 | PDF 미리보기 화면 열림 |
| 📤 공유하기 | 텍스트 내용 + PDF 첨부 함께 공유 |

---

## PDF 보기

### 화면 구성

```
┌─────────────────────────────────┐
│  PDF 미리보기            [ × ]  │
├─────────────────────────────────┤
│                                 │
│  ┌─────────────────────────┐   │
│  │                         │   │
│  │    [PDF 렌더링 영역]    │   │
│  │                         │   │
│  │    • 배치도             │   │
│  │    • 부품 목록          │   │
│  │    • 요약 정보          │   │
│  │                         │   │
│  └─────────────────────────┘   │
│                                 │
│         ◀  1 / 2  ▶           │
│                                 │
├─────────────────────────────────┤
│     [📥 저장]    [📤 공유]      │
└─────────────────────────────────┘
```

---

## 공유하기

### 공유 내용 형식

```
[대장간 V3 재단 결과]

📐 원판: 2440 × 1220 mm
📦 사용 원판: 1장
✂️ 총 절단: 12회
📊 효율: 68.5%
💰 예상 비용: 12,000원

─────────────────
부품 목록:
• 800×400 ×4개
• 600×300 ×2개
• 1000×500 ×1개

📎 첨부: 재단도.pdf
```

### 공유 항목

| 항목 | 포함 |
|------|------|
| 텍스트 요약 | ✅ |
| 부품 목록 | ✅ |
| PDF 첨부 | ✅ |

---

## 네비게이션

### 이동 방법

| 위치 | 동작 | 결과 |
|------|------|------|
| 어디서든 | 로고 터치 | Step 1로 이동 |
| 어디서든 | "설정" 터치 | Step 1로 이동 |
| 어디서든 | "입력" 터치 | Step 2로 이동 |
| 어디서든 | "결과" 터치 | Step 3로 이동 (결과 있을 때만) |
| Step 3 | ← 다시입력 | Step 2로 (데이터 유지) |
| Step 3 | 🏠 새작업 | Step 1로 (데이터 초기화) |

### 데이터 유지 규칙

| 이동 | 원판 설정 | 부품 리스트 | 결과 |
|------|----------|------------|------|
| Step 2 → Step 1 | 유지 | 유지 | 삭제 |
| Step 3 → Step 2 | 유지 | 유지 | 유지 |
| Step 3 → Step 1 (새작업) | 초기화 | 초기화 | 삭제 |
| 로고 터치 | 유지 | 유지 | 유지 |

---

## 추가 UX 개선

### 빈 상태 안내

```
┌─────────────────────────────┐
│                             │
│      📦                     │
│   아직 부품이 없습니다       │
│   아래에서 추가해주세요      │
│         ↓ ↓ ↓              │
└─────────────────────────────┘
```

### 입력 유효성 체크

```
원판보다 큰 값 입력 시:
┌─────────────────────────────┐
│         2500                │  ← 빨간색
│     ⚠️ 원판(2440)보다 큼    │
└─────────────────────────────┘
```

### 스와이프 삭제

```
← 스와이프 → [삭제] 버튼 나타남
```

### 되돌리기 (Undo)

```
삭제 시 토스트: "삭제됨 [되돌리기]" (3초 후 사라짐)
```

### 햅틱 피드백 (선택)

| 상황 | 피드백 |
|------|--------|
| 버튼 터치 | 약한 진동 |
| 추가 완료 | 성공 진동 |
| 에러 | 경고 진동 |

---

## 최종 체크리스트

| 항목 | 상태 |
|------|------|
| 가로→세로 자동 전환 | ✅ |
| 키패드 축소 (3×4) | ✅ |
| 입력값 크게 표시 | ✅ |
| 부품 리스트 메인 | ✅ |
| 하단 고정 입력바 | ✅ |
| 결고려 이미지 토글 | ✅ |
| 로고/스텝 터치 네비게이션 | ✅ |
| PDF 보기 | ✅ |
| 공유하기 (텍스트 + PDF) | ✅ |
| 새작업 버튼 | ✅ |

---

## 변경 이력

| 날짜 | 내용 |
|------|------|
| 2024-XX-XX | 초안 작성 |
| - | Step 1: 톱날/두께 제거, 가로×세로+결고려만 |
| - | Step 2: 하단 고정 입력바, 키패드 축소, 자동 전환 |
| - | Step 3: PDF다운로드 → PDF보기로 변경 |
| - | 공유하기: 텍스트 + PDF 첨부 |
